<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CAL - CMB Atmospheric Library: pycal.todmap.pointing.OpPointingHpix Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="inle.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CAL - CMB Atmospheric Library
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pycal.todmap.pointing.OpPointingHpix Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for pycal.todmap.pointing.OpPointingHpix:</div>
<div class="dyncontent">
<div class="center"><img src="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix__inherit__graph.png" border="0" usemap="#pycal_8todmap_8pointing_8_op_pointing_hpix_inherit__map" alt="Inheritance graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for pycal.todmap.pointing.OpPointingHpix:</div>
<div class="dyncontent">
<div class="center"><img src="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix__coll__graph.png" border="0" usemap="#pycal_8todmap_8pointing_8_op_pointing_hpix_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 1 -->
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac9861f40d97936f6667f34e407adbe60"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac9861f40d97936f6667f34e407adbe60"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__inti__</b> (self, pixels=&quot;pixels&quot;, weights=&quot;weights&quot;, nside=64, <a class="el" href="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix.html#a2cb6bb90e862c61ba3ed2e316fc6d2d5">nest</a>=False, <a class="el" href="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix.html#a7e1ce685d30d93f1ef0db835d1315341">mode</a>=&quot;I&quot;, cal=None, epsilon=None, common_flag_name=None, common_flag_mask=255, apply_flags=False, keep_quats=False, single_precision=False, nside_submap=16)</td></tr>
<tr class="separator:ac9861f40d97936f6667f34e407adbe60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1dea244554fd80a03cc1986b3ba34c8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix.html#ad1dea244554fd80a03cc1986b3ba34c8">nside</a> (self)</td></tr>
<tr class="separator:ad1dea244554fd80a03cc1986b3ba34c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb6bb90e862c61ba3ed2e316fc6d2d5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix.html#a2cb6bb90e862c61ba3ed2e316fc6d2d5">nest</a> (self)</td></tr>
<tr class="separator:a2cb6bb90e862c61ba3ed2e316fc6d2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e1ce685d30d93f1ef0db835d1315341"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix.html#a7e1ce685d30d93f1ef0db835d1315341">mode</a> (self)</td></tr>
<tr class="separator:a7e1ce685d30d93f1ef0db835d1315341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde19751236d84791e0464cd5a3363f3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix.html#adde19751236d84791e0464cd5a3363f3">local_submaps</a> (self)</td></tr>
<tr class="separator:adde19751236d84791e0464cd5a3363f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac088687e1e827b5eff20fcd41d115c09"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix.html#ac088687e1e827b5eff20fcd41d115c09">exec</a> (self, data)</td></tr>
<tr class="separator:ac088687e1e827b5eff20fcd41d115c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a453995e7ce723c8ac8bf9cf8c503d610"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a453995e7ce723c8ac8bf9cf8c503d610"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>hpix</b></td></tr>
<tr class="separator:a453995e7ce723c8ac8bf9cf8c503d610"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a68c14872afaa032eb15b7e7413c43ada"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a68c14872afaa032eb15b7e7413c43ada"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_pixels</b></td></tr>
<tr class="separator:a68c14872afaa032eb15b7e7413c43ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4280a16e9ba84e43a11bf8e9e9f95630"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4280a16e9ba84e43a11bf8e9e9f95630"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_weights</b></td></tr>
<tr class="separator:a4280a16e9ba84e43a11bf8e9e9f95630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cbe0f583c92c6d4b2cced16f835ed16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3cbe0f583c92c6d4b2cced16f835ed16"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_nside</b></td></tr>
<tr class="separator:a3cbe0f583c92c6d4b2cced16f835ed16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337aad23b0dec024c2590acc7e1a1d35"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a337aad23b0dec024c2590acc7e1a1d35"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_nest</b></td></tr>
<tr class="separator:a337aad23b0dec024c2590acc7e1a1d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10caba1bdc064106b326d777975dc240"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10caba1bdc064106b326d777975dc240"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_mode</b></td></tr>
<tr class="separator:a10caba1bdc064106b326d777975dc240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a40d099410c2b32e46cbbf0aca834a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41a40d099410c2b32e46cbbf0aca834a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_cal</b></td></tr>
<tr class="separator:a41a40d099410c2b32e46cbbf0aca834a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5338c334a4c7db94e75e15499683b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c5338c334a4c7db94e75e15499683b1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_epsilon</b></td></tr>
<tr class="separator:a7c5338c334a4c7db94e75e15499683b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09ebe93b4705d35a5d115d20fd56479"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad09ebe93b4705d35a5d115d20fd56479"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_common_flag_mask</b></td></tr>
<tr class="separator:ad09ebe93b4705d35a5d115d20fd56479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a6d6e4bfca768dca017c8628639207"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00a6d6e4bfca768dca017c8628639207"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_apply_flags</b></td></tr>
<tr class="separator:a00a6d6e4bfca768dca017c8628639207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c0a518187b4214b2d4f61a18d472c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25c0a518187b4214b2d4f61a18d472c2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_common_flag_name</b></td></tr>
<tr class="separator:a25c0a518187b4214b2d4f61a18d472c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae82bfa70969d6ce3519c05b29de067"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ae82bfa70969d6ce3519c05b29de067"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_keep_quats</b></td></tr>
<tr class="separator:a1ae82bfa70969d6ce3519c05b29de067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae6861673b04f6951fabd039f1e86603"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae6861673b04f6951fabd039f1e86603"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_single_precision</b></td></tr>
<tr class="separator:aae6861673b04f6951fabd039f1e86603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765a29d98aa622393277129c7d759841"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a765a29d98aa622393277129c7d759841"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_nside_submap</b></td></tr>
<tr class="separator:a765a29d98aa622393277129c7d759841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb25f8619230900ca90eb2881518ddc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acdb25f8619230900ca90eb2881518ddc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_npix_submap</b></td></tr>
<tr class="separator:acdb25f8619230900ca90eb2881518ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb64a62545f32b0b8305b81c90cabae1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb64a62545f32b0b8305b81c90cabae1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_nsubmap</b></td></tr>
<tr class="separator:aeb64a62545f32b0b8305b81c90cabae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681df122ddc20ff5d55c5ed7e5c9a72e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a681df122ddc20ff5d55c5ed7e5c9a72e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_hit_submaps</b></td></tr>
<tr class="separator:a681df122ddc20ff5d55c5ed7e5c9a72e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369287b2032f712777ec443fa64a32e8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a369287b2032f712777ec443fa64a32e8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_nnz</b></td></tr>
<tr class="separator:a369287b2032f712777ec443fa64a32e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Operator which generates I/Q/U healpix pointing weights.

Given the individual detector pointing, this computes the pointing weights
assuming that the detector is a linear polarizer followed by a total
power measurement.  An optional dictionary of calibration factors may
be specified.  Additional options include specifying a constant cross-polar
response (eps) and a rotating, perfect half-wave plate.  The timestream
model is then (see Jones, et al, 2006):

.. math::
    d = cal \\left[\\frac{(1+eps)}{2} I + \\frac{(1-eps)}{2} \\left[Q \\cos{2a} + U \\sin{2a}\\right]\\right]

Or, if a HWP is included in the response with time varying angle "w", then
the total response is:

.. math::
    d = cal \\left[\\frac{(1+eps)}{2} I + \\frac{(1-eps)}{2} \\left[Q \\cos{4(a+w)} + U \\sin{4(a+w)}\\right]\\right]

Args:
    pixels (str): write pixels to the cache with name &lt;pixels&gt;_&lt;detector&gt;.
        If the named cache objects do not exist, then they are created.
    weights (str): write pixel weights to the cache with name
        &lt;weights&gt;_&lt;detector&gt;.  If the named cache objects do not exist,
        then they are created.
    nside (int): NSIDE resolution for Healpix NEST ordered intensity map.
    nest (bool): if True, use NESTED ordering.
    mode (string): either "I" or "IQU"
    cal (dict): dictionary of calibration values per detector. A None
        value means a value of 1.0 for all detectors.
    epsilon (dict): dictionary of cross-polar response per detector. A
        None value means epsilon is zero for all detectors.
    common_flag_name (str): the optional name of a cache object to use for
        the common flags.
    common_flag_mask (byte): the bitmask to use when flagging the pointing
        matrix using the common flags.
    apply_flags (bool): whether to read the TOD common flags, bitwise OR
        with the common_flag_mask, and then flag the pointing matrix.
    single_precision (bool):  Return the pixel numbers and pointing
         weights in single precision.  Default=False.
    nside_submap (int):  Size of a submap is 12 * nside_submap ** 2
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac088687e1e827b5eff20fcd41d115c09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pycal.todmap.pointing.OpPointingHpix.exec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create pixels and weights.

This iterates over all observations and detectors, and creates
the pixel and weight arrays representing the pointing matrix.
This data is stored in the TOD cache.

Args:
    data (toast.Data): The distributed data.</pre> 
</div>
</div>
<a class="anchor" id="adde19751236d84791e0464cd5a3363f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pycal.todmap.pointing.OpPointingHpix.local_submaps </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">(list): Indices of locally hit submaps
</pre> 
</div>
</div>
<a class="anchor" id="a7e1ce685d30d93f1ef0db835d1315341"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pycal.todmap.pointing.OpPointingHpix.mode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">(str): the pointing mode "I", "IQU", etc.
</pre> 
</div>
</div>
<a class="anchor" id="a2cb6bb90e862c61ba3ed2e316fc6d2d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pycal.todmap.pointing.OpPointingHpix.nest </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">(bool): if True, the pointing is NESTED ordering.
</pre> 
</div>
</div>
<a class="anchor" id="ad1dea244554fd80a03cc1986b3ba34c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pycal.todmap.pointing.OpPointingHpix.nside </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">(int): the HEALPix NSIDE value used.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/pycal/todmap/pointing.py</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>pycal</b></li><li class="navelem"><b>todmap</b></li><li class="navelem"><b>pointing</b></li><li class="navelem"><a class="el" href="classpycal_1_1todmap_1_1pointing_1_1_op_pointing_hpix.html">OpPointingHpix</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
